%%%%% theorem %%%%%
\theoremstyle{definition} % 預設為 plain，內文為斜體
\newtheorem*{remark}{Remark}
\newtheorem{claim}{Claim}
\newtheorem{lemma}{Lemma}
\newtheorem{definition}{Definition}

%%%%% general math abbreviation %%%%%
\NewDocumentCommand{\OP}{u{ }}{\operatorname{#1}}
\let~\OP

\def\N{\mathbb N}
\def\Z{\mathbb Z}
\def\Q{\mathbb Q}
\def\R{\mathbb R}
\def\C{\mathbb C}
\def\eps{\varepsilon}

%%%%%% paired delimiter，加 * 會自動調整大小 %%%%%
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}
\DeclarePairedDelimiter{\ags}{\langle}{\rangle}
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}

\makeatletter % https://github.com/fhvirus/FHW/blob/main/fhw.cls
\newcommand{\@renewmid}{\renewcommand{\mid}{%
	\mathclose{}%
	\mathchoice{\;}{\;}{\,}{\,}%
	\delimsize\vert%
	\mathchoice{\;}{\;}{\,}{\,}%
	\mathopen{}%
}}

\DeclarePairedDelimiterX{\set}[1]{\lbrace}{\rbrace}{\@renewmid #1}
\makeatother

%%%%% arrow %%%%%
\NewDocumentCommand{\To}{O{\;}}{\xrightarrow{\;\; #1 \;\;}}
\NewDocumentCommand{\maps}{mO{\To}mO{\;}mm}{
    \begin{aligned}
        #1 #2[#4] & \; #3\\
        #5 \xmapsto{\;\;\phantom{#4}\;\;} & \; #6
    \end{aligned}
}
\ProvideDocumentCommand{\xtwoheadrightarrow}{O{}m}{\mathrel{\xrightarrow[#1]{#2}\hspace{-1.2em}\xrightarrow{}\hspace{0.2em}}}

%%%%% environment %%%%%
\NewDocumentCommand{\circled}{m}{\tikz[baseline=(char.base)]{\node[shape=circle,draw,inner sep=2pt] (char) {#1};}}
% [label = \protect\circled{\arabic*}]

\NewDocumentEnvironment{stm}{m}{
	\par\noindent\underline{#1}. \ignorespaces
}{\par}

%%%%% other %%%%%
\NewDocumentCommand{\rng}{O{1}mmO{}m}{#3_{#1}#4 #5 \cdots #5 #3_{#2}#4}

\def\d{\mathop{}\!\mathrm d} % https://tex.stackexchange.com/a/60546

%%%%% additional %%%%%
% \RequirePackage{} % 重複載入宏包不報錯
% \DeclareDocumentCommand{}{}{} % 是否已存在皆不報錯
% 還不會寫 command of command
